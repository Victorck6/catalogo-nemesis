<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Catálogo Nemesis</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:url("https://images.unsplash.com/photo-1604079628040-94301bb21b91?auto=format&fit=crop&w=1920&q=80") center/cover fixed;
  color:#eee;
}
.overlay{background:rgba(0,0,0,.78);min-height:100vh}
header{background:#1b2a3a;padding:12px 20px;font-size:20px}
.hidden{display:none}
.center{height:80vh;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:10px}
button,input,select,textarea{padding:8px;border:none}
button{cursor:pointer}
.container{display:flex}
.admin{width:300px;background:#111;padding:15px}
.main{flex:1;padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:15px}
.item{background:#161616;padding:10px;border:1px solid #333}
.item img{max-width:100%}
#paste{border:2px dashed #555;padding:10px;text-align:center;cursor:pointer}
</style>
</head>

<body>
<div class="overlay">

<header>Catálogo Nemesis</header>

<div id="a1" class="center">
  <button onclick="x1()">Entrar como Membro</button>
  <button onclick="x2()">Entrar como Admin</button>
</div>

<div id="a2" class="center hidden">
  <input id="l1" placeholder="Login">
  <input id="l2" type="password" placeholder="Senha">
  <button onclick="x3()">Entrar</button>
</div>

<div id="a3" class="hidden">
  <div class="container">

    <div id="adm" class="admin hidden">
      <select id="c1">
        <option>Hat</option><option>Weapon</option><option>Ring</option>
      </select>
      <input id="n1" placeholder="Nome">
      <input id="v1" placeholder="Valor mín">
      <input id="v2" placeholder="Valor máx">
      <textarea id="d1" placeholder="Descrição"></textarea>
      <div id="paste">Ctrl + V imagem</div>
      <img id="img" style="display:none">
      <button onclick="x4()">Salvar</button>
      <button onclick="x5()">Apagar tudo</button>
    </div>

    <div class="main"><div id="list" class="grid"></div></div>
  </div>
</div>

</div>

<script>
(function(){
let Z="",K="TmVtZXNpcw==",S="eWFyYWViZWxsbnRvbWFiYW5obw==";
const G=id=>document.getElementById(id);
const D=s=>atob(s);

G("paste").addEventListener("paste",e=>{
 for(let i of e.clipboardData.items){
  if(i.type.includes("image")){
   let f=i.getAsFile(),r=new FileReader();
   r.onload=x=>{Z=x.target.result;G("img").src=Z;G("img").style.display="block"};
   r.readAsDataURL(f);
}}});

window.x1=()=>{G("a1").classList.add("hidden");G("a3").classList.remove("hidden");y()};
window.x2=()=>{G("a1").classList.add("hidden");G("a2").classList.remove("hidden")};

window.x3=()=>{
 if(G("l1").value===D(K)&&G("l2").value===D(S)){
  G("a2").classList.add("hidden");
  G("a3").classList.remove("hidden");
  G("adm").classList.remove("hidden");
  y();
 }else alert("Erro");
};

window.x4=()=>{
 let a=JSON.parse(localStorage.getItem("x")||"[]");
 a.push({n:G("n1").value,a:G("v1").value,b:G("v2").value,d:G("d1").value,c:G("c1").value,i:Z});
 localStorage.setItem("x",JSON.stringify(a));y();
};

window.x5=()=>{if(confirm("Apagar tudo?")){localStorage.removeItem("x");y();}};

function y(){
 let a=JSON.parse(localStorage.getItem("x")||"[]");
 G("list").innerHTML="";
 a.forEach(i=>{
  G("list").innerHTML+=`<div class="item"><img src="${i.i}"><b>${i.n}</b><br>${i.c}<br>${i.a}-${i.b}<br>${i.d}</div>`;
 });
}
})();
</script>

</body>
</html>
